<!DOCTYPE html>
<html>
<head>
  <title>Pomodoro Clock</title>
  <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
</head>
<body>
  <h1>Pomodoro Timer</h1>
<p>Session time:<span id="sessionLength"></span></p>
<p>Break length :<span id="breakLength"></span></p>
<button id="plusBreak">+</button>
<button id="minusBreak"> - </button>
<p id="status">SESSION</p>
<p id="timeNow"></p>
<button id="plusSession"> + </button>
<button id="minusSession"> - </button>
<button onclick="startTimeButton()">Start</button>
<button onclick="stopTimeButton()">Stop</button>
<button id="clearTime">Clear</button>
<script>
var myVar, timeMinutes, timeSeconds, breakTime, sessionBreak, sessionTime, pushedOnce;
  var initialTime = 1500;
  pushedOnce = false;
  breakTime = 300;
  sessionBreak = false;
  breakMinutes = Math.floor(breakTime/60);
  timeMinutes = Math.floor(initialTime/60);
  function displaySession() {
    sessionTime = timeMinutes;
    if (sessionTime == 1) {
    $("#sessionLength").html(" "+sessionTime + " minute");
      } else {
    $("#sessionLength").html(" "+sessionTime + " minutes");
      }
  }
  displaySession();
  function displayBreak () {
  breakMinutes = Math.floor(breakTime/60);
  if (breakMinutes == 1) {
  $("#breakLength").html(" "+breakMinutes + " minute");
    } else {
  $("#breakLength").html(" "+breakMinutes + " minutes");
    }
  }
  function printTime() {
    timeMinutes = Math.floor(initialTime/60);
    timeSeconds = initialTime - timeMinutes * 60;
  }
  function displayTime() {
    if (timeMinutes == 1) {
    $("#timeNow").html(timeMinutes + " minute and " + timeSeconds + " seconds left");
  } else {
    $("#timeNow").html(timeMinutes + " minutes and " + timeSeconds + " seconds left");
  }
  }
  function startTimeButton() {
    if (pushedOnce == false) {
    myVar = setInterval(beginTime, 1000);
    pushedOnce = true;
    }
  }
  function beginTime() {
    if (initialTime == 0) {
      if (sessionBreak == false) {
      $("#status").html("BREAK SESSION !");
      initialTime = breakTime;
      sessionBreak = true;
      return initialTime;
    } else {
      sessionBreak = false;
      console.log(sessionBreak);
      $("#status").html("SESSION");
      initialTime = sessionTime;
    }
    }
    console.log(initialTime);
    initialTime--;
    printTime();
    document.getElementById("timeNow").innerHTML = (timeMinutes + " minutes and " + timeSeconds + " seconds left");
    }
    function stopTimeButton() {
      clearInterval(myVar);
      pushedOnce = false;
    };
    function clearTime() {
      initialTime = 0;
    }
  $(document).ready(function() {
    displayBreak();
    printTime();
    $("#timeNow").html(timeMinutes + " minutes and " + timeSeconds + " seconds left");
    $("#clearTime").click(function () {
      stopTimeButton();
      initialTime = 0;
      printTime();
      displayTime();
    });
    $("#plusSession").click(function () {
      stopTimeButton();
      initialTime += 60;
      printTime();
      displayTime();
      displaySession();
    });
    $("#minusSession").click(function () {
      stopTimeButton();
      if (initialTime > 0) {
      initialTime -= 60;
      }
      printTime();
      displayTime();
      displaySession();
    });
    $("#plusBreak").click(function () {
      breakTime += 60;
      displayBreak();
    });
    $("#minusBreak").click(function () {
      if (breakTime > 0) {
      breakTime -= 60;
      }
      displayBreak();
    });
});
</script>
</body>
</html>
